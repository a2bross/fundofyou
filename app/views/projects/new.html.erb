<%= content_for(:navbar_class, "navbar-funnel") %>

<div class="project-new">
  <div class="breadcrumb-centerer">
    <div class="breadcrumb-container text-center">
      <div class="breadcrumb-line"></div>
      <div class="criteria-breadcrumb">
        <div class="criteria-breadcrumb-item criteria-breadcrumb-item-active"><span>1</span>Présentation</div>
        <div class="criteria-breadcrumb-item"><span>2</span>Description</div>
        <div class="criteria-breadcrumb-item"><span>3</span>Financement</div>
      </div>
    </div>
  </div>

<div class="project-form-container">
  <%= simple_form_for @project do |f| %>
  <div id="first-step">
    <div class="form-column">
      <div class="column-container">
        <label for="project[name]" class="underline-label"><i class="fa fa-address-card-o" aria-hidden="true"></i> Nom du projet</label>
        <%= f.input :name, label: false, placeholder: "ex: Collecte de vêtements chauds pour les réfugiés", hint: '50 caractères.', input_html: { maxlength: 50 }, error: 'Champ obligatoire' %>
        <label for="project[photo]" class="underline-label"><i class="fa fa-camera" aria-hidden="true"></i> Photo du projet</label>
        <%= f.input :photo, label: false %>
      </div>
      <div class="column-container">
        <div class="container-fluid">
        <label class="underline-label"><i class="fa fa-bookmark" aria-hidden="true"></i> Causes</label>
        <div class="row text-center">
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="environment" id="environment">
            <label for="environment" class="cause-choice">
              <i class="fa fa-leaf"></i> <div>Ecologie</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="humanitarian" id="humanitarian">
            <label for="humanitarian" class="cause-choice">
              <i class="fa fa-life-ring"></i> <div>Humanitaire</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="social" id="social">
            <label for="social" class="cause-choice">
              <i class="fa fa-handshake-o"></i> <div>Action sociale</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="preservation" id="preservation">
            <label for="preservation" class="cause-choice">
              <i class="fa fa-institution"></i> <div>Patrimoine</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="education" id="education">
            <label for="education" class="cause-choice">
              <i class="fa fa-graduation-cap"></i> <div>Education</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
          <div class="col-xs-4">
            <input type="checkbox" class="hidden" value=1 name="research" id="research">
            <label for="research" class="cause-choice">
              <i class="fa fa-flask"></i> <div>Recherche</div>
              <i class="fa fa-check hidden"></i>
            </label>
          </div>
        </div>
        </div>
      </div>
    </div>
    <label for="project[objectives]" class="underline-label no-margin-label"><i class="fa fa-address-card-o" aria-hidden="true"></i> Objectifs</label>
    <%= f.input :objectives, hint: '200 caractères.', input_html: { maxlength: 200 }, label: false, placeholder: "ex: Nous avons besoin de collecter et reconditionner 200 pantalons, 250 chemises, 300 T-shirts" %>
    <div class="button-container text-center">
      <button id="to-second-step" class="btn btn-primary button-submit">Etape suivante</button>
    </div>
  </div>

  <div id="second-step" class="hidden">
    <label for="project[description]" class="underline-label"><i class="fa fa-map-marker" aria-hidden="true"></i> Localisation</label>
    <%= f.input :address, :input_html => { :class => 'autocomp' }, placeholder: "ex: 22 rue Charles de Gaulle, 67000 Strasbourg, FRANCE", label: false %>
    <label for="project[description]" class="underline-label"><i class="fa fa-address-card-o" aria-hidden="true"></i> Description du projet</label>
    <%= f.input :description, as: :text, label: false, error: 'Champ obligatoire' %>

    <div class="button-container button-container-margin text-center">
      <button id="back-first-step" class="btn btn-primary button-reset">Etape précédente</button>
      <button id="to-third-step" class="btn btn-primary button-submit">Etape suivante</button>
    </div>
  </div>

  <div id="third-step" class="hidden">
    <div class="form-column">
      <div class="column-container">
        <label for="project[budget]" class="underline-label"><i class="fa fa-hourglass-half" aria-hidden="true"></i> Montant à collecter</label>
        <%= f.input :budget, label: false %>
      </div>
      <div class="column-container">
        <label for="project[start_date]" class="underline-label"><i class="fa fa-eur" aria-hidden="true"></i> Durée</label>
        <div class="form-column">
          <div class="column-container text-center">
            <label for="project[start_date]" class="small-label">Date de début</label>
            <%= date_field :project, :start_date, value: Date.today, class: "form-control" %>
          </div>
          <div class="column-container text-center">
            <label for="project[duration]" class="small-label">Nombre de jours</label>
            <%= select_tag :duration, options_for_select([['15 jours', 15], ['30 jours', 30], ['45 jours', 45], ['60 jours', 60]]), class: "form-control" %>
          </div>
        </div>
      </div>
    </div>

    <label class="underline-label"><i class="fa fa-map-marker" aria-hidden="true"></i> Ajouter des objets à financer</label>
    <div class="form-inline">
      <input type="text" name=project[object1][name] placeholder="Nom de l'objet" class="form-control">
      <input type="number" name=project[object1][cost] placeholder="Montant de l'objet" class="form-control">
    </div>

    <div class="button-container button-container-margin text-center">
      <button id="back-second-step" class="btn btn-primary button-reset">Etape précédente</button>
      <%= f.submit "Valider", class: "btn btn-primary button-submit" %>
    </div>
  </div>

  <% end %>
</div>
